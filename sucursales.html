<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>BB Recycling â€” Sucursales</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
  <link rel="stylesheet" href="assets/css/sucursales.css?v=hdr_fix_v8"/>
  <link href="assets/css/enhancements.css?v=99" rel="stylesheet"/>
  <style>body{font-family: system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif; background:#fafafa; color:#111827;}</style>
<style>
    h2 {
      color: #fff;
    }
    p {
      color: #fff
    }
    /* Header transparent -> white */
    .site-hdr{position:fixed; top:0; left:0; right:0; z-index:1000; transition:background-color .25s, box-shadow .25s, border-color .25s; border-bottom:1px solid transparent}
    .site-hdr.over-hero{background:#0f2d63; border-bottom-color:#153672; box-shadow:0 10px 30px rgba(0,0,0,.08)}
    .site-hdr.is-solid{background:#0f2d63; border-bottom-color:#153672; box-shadow:0 10px 30px rgba(0,0,0,.08)}
    .hdr-row{display:flex; align-items:center; justify-content:space-between; gap:18px; min-height:72px}
    .brand{display:flex; align-items:center; gap:10px; text-decoration:none}
    .brand .brand-text{font-weight:800; letter-spacing:.2px}
    .site-hdr.over-hero .brand .brand-text{color:#ffffff}
    .site-hdr.is-solid .brand .brand-text{color:#ffffff}
    .main-nav{display:flex; gap:22px; align-items:center}
    .main-nav a{position:relative; font-weight:600; text-decoration:none; padding:10px 6px}
    .site-hdr.over-hero .main-nav a{color:#ffffff}
    .site-hdr.is-solid .main-nav a{color:#ffffff}
    .main-nav a:after{content:""; position:absolute; left:0; bottom:6px; width:0; height:2px; background:currentColor; transition:width .25s}
    .main-nav a:hover:after{width:100%}
    .hdr-actions{display:flex; align-items:center; gap:10px}
    .menu-toggle{display:none; width:44px; height:44px; border-radius:12px; border:1px solid rgba(255,255,255,.45); background:rgba(0,0,0,.12); backdrop-filter: blur(10px)}
    .site-hdr.is-solid .menu-toggle{border-color:#e5e5e5; background:#fafafa}
    .menu-toggle span{display:block; width:18px; height:2px; background:#fff; margin:3px auto; border-radius:2px}
    .site-hdr.is-solid .menu-toggle span{background:#222}
    @media (max-width:880px){ .main-nav{display:none} .menu-toggle{display:inline-flex; align-items:center; justify-content:center} }
    /* Drawer */
    .drawer-backdrop{position:fixed; inset:0; background:rgba(0,0,0,.35); opacity:0; visibility:hidden; transition:.25s; z-index:999}
    .drawer-backdrop.open{opacity:1; visibility:visible}
    .mobile-drawer{position:fixed; top:0; right:-84%; width:min(84%,360px); height:100dvh; background:#fff; box-shadow:-10px 0 30px rgba(0,0,0,.15); z-index:1000; transition:right .28s; display:flex; flex-direction:column}
    .mobile-drawer.open{right:0}
    .drawer-head{display:flex; align-items:center; justify-content:space-between; padding:16px; border-bottom:1px solid #eee}
    .drawer-inner{display:flex; flex-direction:column; padding:8px 16px 18px}
    .drawer-inner a{padding:14px 6px; border-bottom:1px solid #f3f3f3; color:#111; text-decoration:none; font-weight:650}
    .drawer-close{width:38px; height:38px; border-radius:10px; border:1px solid #e5e5e5; background:#fafafa}
    /* Fullscreen slider */
    .slider-hero {position:relative; min-height:50dvh; width:100%; overflow:hidden;margin-top: 90px; padding-top:72px}
    .slider-hero .slides{position:absolute; inset:0}
    .slider-hero .slide{position:absolute; inset:0; opacity:0; transform:scale(1.06); transition:opacity .6s ease}
    .slider-hero .slide img{width:100%; height:100%; object-fit:cover; display:block}
    .slider-hero .slide.is-active{opacity:1; animation:heroZoomOut 3s ease forwards}
    @keyframes heroZoomOut{ from{transform:scale(1.06)} to{transform:scale(1)} }
    .slider-hero .dots{position:absolute; z-index:2; left:50%; bottom:18px; transform:translateX(-50%); display:flex; gap:8px}
    .slider-hero .dots button{width:9px; height:9px; border-radius:50%; border:0; background:rgba(255,255,255,.5); cursor:pointer}
    .slider-hero .dots button.is-on{background:#fff}
    /* Logo swap */
    .brand img{height:60px}
    .logo-white{display:none}
    .site-hdr.over-hero .logo-color{display:block}
    .site-hdr.over-hero .logo-white{display:none}
    .site-hdr.is-solid .logo-color{display:block}
    .site-hdr.is-solid .logo-white{display:none}
    /* Footer */
    footer{background:#0b0b0b; color:#d7d7d7}
    .footer-wrap{display:flex; align-items:center; justify-content:space-between; padding:24px 0}
    .wrap{width:min(1200px, 92%); margin-inline:auto}
    body{
      background-color: #181717;
      margin:0;
       font-family:system-ui, -apple-system, Segoe UI, Roboto, Arial, 'Helvetica Neue', Ubuntu, 'Noto Sans'
    }
  
  /* --- Mobile adjustments (<=880px): 60% height and full width --- */
  @media (max-width:880px){
    body{overflow-x:hidden}
    .slider-hero{min-height:60dvh; width:100vw; padding-top:72px}
    .slider-hero .slides{inset:0; width:100vw}
    .slider-hero .slide{inset:0}
    .slider-hero .slide img{width:100vw; height:100%; object-fit:cover; object-position:center center; display:block}
    .slider-hero .dots{bottom:12px}
  }

/* Enforce full width on all viewports */
.slider-hero, .slider-hero .slides, .slider-hero .slide, .slider-hero .slide img{width:100%;}

/* --- v22: remove figure default margins and force full-bleed --- */
.slider-hero .slide{margin:0 !important; padding:0 !important; border:0}
.slider-hero .slides{left:0; right:0}
.slider-hero .slide img{display:block}
html, body{width:100%; max-width:100%; overflow-x:hidden}

/* v23: smooth animations (desktop autoplay always on) */
.slider-hero .slide{will-change: transform, opacity}

/* v24: caption overlay */
.hero-caption{position:absolute; z-index:2; left:50%; bottom:72px; transform:translateX(-50%); text-align:center; color:#fff; max-width:min(92vw, 920px); padding:0 12px; opacity:0; translate:0 12px; transition:opacity .5s ease, translate .5s ease}
.hero-caption.show{opacity:1; translate:0 0}
.hero-caption h2{margin:0 0 8px 0; font-size:clamp(22px,3.2vw,44px); line-height:1.05; font-weight:800; text-shadow:0 6px 22px rgba(255, 255, 255, 0.45)}
.hero-caption p{margin:0; font-size:clamp(14px,1.4vw,18px); opacity:.92; text-shadow:0 4px 18px rgba(255, 255, 255, 0.4)}

/* === Productos destacados (cards) === */
.featured{padding:42px 0 50px}
.sucursales{padding:42px 0 50px}
.featured-head{display:flex; align-items:end; justify-content:space-between; gap:18px; margin-bottom:18px}
.featured-head h2{font-size:clamp(26px,3.3vw,42px); margin:0; color:#fff}
.featured-head p{margin:.3rem 0 0 0; color:#fff}
.featured-head .see-all{white-space:nowrap; display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:999px; background:#eaf6ef; color:#1ea25a; text-decoration:none; font-weight:700; box-shadow:0 6px 18px rgba(30,162,90,.18)}
.sucursales-head{display:flex; align-items:end; justify-content:space-between; gap:18px; margin-bottom:18px}
.sucursales-head h2{font-size:clamp(26px,3.3vw,42px); margin:0; color:#fff}
.sucursales-head p{margin:.3rem 0 0 0; color:#fff}
.featured-head .see-all{white-space:nowrap; display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:999px; background:#eaf6ef; color:#1ea25a; text-decoration:none; font-weight:700; box-shadow:0 6px 18px rgba(30,162,90,.18)}
.featured-grid{display:grid; grid-template-columns:repeat(4,1fr); gap:18px}
.sucursales-grid{display:grid; grid-template-columns:repeat(4,1fr); gap:18px}
.card{background:#fff; border-radius:16px; overflow:hidden; position:relative; box-shadow:0 12px 30px rgba(0,0,0,.06); transition:transform .35s ease, box-shadow .35s ease}
.card:hover{transform:translateY(-6px); box-shadow:0 18px 38px rgba(0,0,0,.12)}
.card .media{aspect-ratio:4/3; position:relative; overflow:hidden}
.card .media img{width:100%; height:100%; object-fit:cover; display:block; transform:scale(1.02); transition:transform .55s ease}
.card:hover .media img{transform:scale(1.08)}
.card .meta{padding:14px 14px 16px}
.card .meta .title{font-weight:800; margin:0 0 6px 0}
.card .meta .sku{font-size:.9rem; opacity:.8; margin:0}
.card .hover-reveal{position:absolute; inset:0; background:linear-gradient(180deg, rgba(0,0,0,0) 40%, rgba(0,0,0,.55) 100%); display:flex; align-items:end; justify-content:center; padding:18px; opacity:0; transition:opacity .35s ease}
.card:hover .hover-reveal{opacity:1}
.card .btn{display:inline-flex; padding:12px 16px; border-radius:12px; background:#2bb673; color:#fff; font-weight:800; text-decoration:none; transform:translateY(8px); transition:transform .35s ease}
.card:hover .btn{transform:none}
@media (max-width:1100px){ .featured-grid{grid-template-columns:repeat(3,1fr)} }
@media (max-width:820px){ .featured-grid{grid-template-columns:repeat(2,1fr)} .featured-head{flex-direction:column; align-items:flex-start} }
@media (max-width:540px){ .featured-grid{grid-template-columns:1fr} }
@media (max-width:1100px){ .sucursales-grid{grid-template-columns:repeat(3,1fr)} }
@media (max-width:820px){ .sucursales-grid{grid-template-columns:repeat(2,1fr)} .sucursales-head{flex-direction:column; align-items:flex-start} }
@media (max-width:540px){ .sucursales-grid{grid-template-columns:1fr} }
/* (replaced old history css) */
.history{padding:60px 0 80px}
.history-grid{display:grid; grid-template-columns:1.2fr 1fr; align-items:center; gap:32px}
.history-media{margin:0; overflow:hidden; border-radius:16px; transform:translateX(-40px); opacity:0; transition:opacity .5s ease}
.history-media img{display:block; width:100%; height:auto; transform:scale(1.06); will-change:transform}
.history-copy{transform:translateX(40px); opacity:0; transition:opacity .5s ease}
.history-copy h2{font-size:clamp(28px,3.6vw,46px); margin:0 0 12px 0; color:#fff;}
.history-copy p{margin:0; color:#fff; font-size:clamp(15px,1.4vw,18px); line-height:1.6}
/* active state when in view */
.history.inview .history-media,
.history.inview .history-copy{opacity:1}
.history.inview .history-media{transform:translateX(0)}
.history.inview .history-copy{transform:translateX(0)}
/* subtle scroll parallax: they se juntan cuando estÃ¡ centrado y se separan al alejarse */
.history[data-progress] .history-media img{transform:scale(calc(1.06 - (var(--p,0) * 0.06)))}
.history[data-progress] .history-media{transform:translateX(calc(-40px * (1 - var(--p,0))))}
.history[data-progress] .history-copy{transform:translateX(calc(40px * (1 - var(--p,0))))}

@media (max-width:980px){
  .history-grid{grid-template-columns:1fr; gap:18px}
  /* Mobile animation: fade + slide up */
  .history-media{transform:translateY(18px); opacity:0}
  .history-copy{transform:translateY(24px); opacity:0}
  .history.inview .history-media,
  .history.inview .history-copy{opacity:1; transform:translateY(0)}
  /* Keep subtle scale with progress */
  .history[data-progress] .history-media img{transform:scale(calc(1.04 - (var(--p,0) * 0.04)))}
}
    
.history-media, .history-copy{transform:none !important; opacity:1 !important; color:#fff;}
.history{padding:36px 0 48px}


/* v29: Nuestra historia (texto izq / imagen der) con animaciÃ³n robusta */
.history{padding:60px 0 80px}
.history-grid{display:grid; grid-template-columns:1fr 1.2fr; align-items:center; gap:32px}
.history-copy, .history-media{will-change: transform, opacity; transition:transform .6s ease, opacity .6s ease}
/* estados iniciales */
@media (min-width:981px){
  .history-copy{transform:translateX(-40px); opacity:0}
  .history-media{transform:translateX(40px); opacity:0}
  .history.inview .history-copy,
  .history.inview .history-media{transform:translateX(0); opacity:1}
  /* parallax suave al acercarse al centro */
  .history[data-progress] .history-media img{transform:scale(calc(1.06 - (var(--p,0)*0.06))); transition:transform .2s}
  .history-media img{width:100%; height:auto; display:block}
}
@media (max-width:980px){
  .history-grid{grid-template-columns:1fr; gap:18px}
  /* animaciÃ³n vertical en mÃ³vil */
  .history-copy{transform:translateY(20px); opacity:0}
  .history-media{transform:translateY(24px); opacity:0}
  .history.inview .history-copy,
  .history.inview .history-media{transform:translateY(0); opacity:1}
  .history-media img{width:100%; height:auto; display:block; transform:scale(calc(1.02 - (var(--p,0)*0.02))); transition:transform .2s}
}
.history-copy h2{font-size:clamp(28px,3.6vw,46px); margin:0 0 12px 0; color:#fff}
.history-copy p{margin:0; color:#fff; font-size:clamp(15px,1.4vw,18px); line-height:1.6}

  @media (min-width: 1024px){
  .promo-card{ max-width:520px; }
}

.promo-btn{ background:#25D366 !important; color:#111 !important; display:inline-flex; align-items:center; gap:.5rem; }
.promo-btn svg{ width:18px; height:18px; }
.grid { display:grid; grid-template-columns: 1.1fr 0.9fr; align-items:center; gap: 32px; max-width:1200px; height: 200px ;margin: 0 auto; padding: 180px 18px 180px; }
.grid .badge { display:inline-flex; gap:8px; align-items:center; background: var(--bg-soft); color: var(--primary-700); padding:8px 12px; border-radius:999px; font-weight:600; }
.grid h1 { font-size: clamp(28px, 3.6vw, 48px); line-height:1.08; margin: 14px 0 10px; }
.grid p { font-size: clamp(15px, 1.6vw, 18px); color: var(--muted); margin: 8px 0 18px; color: #fff; }
.grid .actions { display:flex; gap:12px; flex-wrap:wrap; }
</style>
  <style>
    /* Inline fallback (ensures header is visible even if external CSS is cached) */
    .bb-header{position:sticky;top:0;z-index:1000;display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:12px;padding:10px 16px;background:#fff;border-bottom:1px solid #e5e7eb}
    .bb-header .brand{display:flex;align-items:center;gap:10px;font-weight:800;color:#0f172a;text-decoration:none}
    .bb-header .nav{display:flex;gap:12px;align-items:center}
    .bb-header .nav a{text-decoration:none;padding:8px 10px;border-radius:10px;color:#0f172a;font-weight:600}
    .bb-header .nav .wa-cta{background:#2FA19E;color:#fff}
    .menu-toggle{display:none;background:#fff;border:1px solid #e5e7eb;border-radius:10px;padding:8px 10px}
    @media (max-width:800px){.menu-toggle{display:block}.bb-header .nav{display:none}.bb-header .nav.open{display:flex;flex-direction:column;position:absolute;top:56px;left:0;right:0;background:#fff;padding:8px 12px;border-bottom:1px solid #e5e7eb}}
    .to-top{position:fixed;right:16px;bottom:16px;z-index:999;width:44px;height:44px;border-radius:999px;border:1px solid #e5e7eb;background:#fff;box-shadow:0 8px 20px rgba(0,0,0,.08);font-size:18px;cursor:pointer;display:none;align-items:center;justify-content:center}
    .to-top.show{display:flex}
  </style>
  <script>
    // Inline fallback interactions
    document.addEventListener('DOMContentLoaded', function(){
      var header=document.querySelector('.bb-header');
      var btnMenu=document.querySelector('.menu-toggle');
      var nav=document.getElementById('bb-nav');
      var toTop=document.querySelector('.to-top');
      window.addEventListener('scroll', function(){
        if(window.scrollY>300){ toTop.classList.add('show'); } else { toTop.classList.remove('show'); }
      });
      if(btnMenu){ btnMenu.addEventListener('click', function(){ var open=nav.classList.toggle('open'); btnMenu.setAttribute('aria-expanded', open?'true':'false'); }); }
      if(toTop){ toTop.addEventListener('click', function(){ window.scrollTo({top:0, behavior:'smooth'}) }); }
    });
  </script>

</head>
<body>
  <div data-include="header"></div>
  <div aria-hidden="true" class="drawer-backdrop" id="drawerBackdrop"><a href="#promociones">Promociones</a></div>
  <div data-include="drawer"></div>
  <!-- SecciÃ³n 1: Mapa -->
  <section class="section">
    <h2 style="margin:0 0 10px 0;">Mapa de Sucursales</h2>
    <p style="margin:0 0 16px 0; color:#ffffff;">Ubica tu centro BB Recycling mÃ¡s cercano.</p>
    <div id="map"></div>
  </section>

  <!-- SecciÃ³n 2: Buscador estilo LTH -->
  <section class="section">
    <div class="sticky-filtros">
      <h2 style="margin:0 0 12px 0; color:#000000;">Busca por estado, ciudad o nombre</h2>
      <div class="filtros">
        <select id="estado" aria-label="Estado"></select>
        <select id="ciudad" aria-label="Ciudad"></select>
        <input id="q" type="search" placeholder="Buscar por nombre o direcciÃ³n..." aria-label="Buscar"/>
      </div>
    </div>
    <div id="resultados" class="resultados" aria-live="polite" style="margin:20px 0 0 0"></div>
  </section>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  <script src="assets/js/sucursales.js?v=hdr_fix_v8"></script>
  <div data-include="footer"></div>
<script>
(function(){
  var btn = document.querySelector('.menu-toggle');
  var nav = document.getElementById('site-nav');
  if(!btn || !nav) return;
  btn.addEventListener('click', function(){
    var open = nav.classList.toggle('open');
    document.body.classList.toggle('menu-open', open);
    this.setAttribute('aria-expanded', open ? 'true' : 'false');
  });
})();
</script>

<script id="bbNavFix">
(function(){
  var btn = document.querySelector('.menu-toggle');
  var nav = document.getElementById('site-nav');
  if(!btn || !nav) return;
  function toggle(open){
    var isOpen = open!=null ? open : !nav.classList.contains('open');
    nav.classList.toggle('open', isOpen);
    document.body.classList.toggle('menu-open', isOpen);
    btn.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
  }
  btn.addEventListener('click', function(e){ e.stopPropagation(); toggle(); });
  // close when clicking a link
  nav.addEventListener('click', function(e){
    if(e.target.tagName.toLowerCase()==='a'){ toggle(false); }
  });
  // close when clicking outside
  document.addEventListener('click', function(e){
    if(!nav.classList.contains('open')) return;
    if(!nav.contains(e.target) && !btn.contains(e.target)){ toggle(false); }
  });
})();
</script>

<a href="index.html" class="back-home-btn" aria-label="Volver al inicio">Inicio</a>
  <script src="assets/js/includes.js?v=99"></script>
</body>


</html>
